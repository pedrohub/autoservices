<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:decorate xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/template/template.xhtml">
	
	<h:form id="form">	
	
	<p:growl id="growl" showDetail="true" sticky="true" />	
	
	<div style="float:left">				 
	<h1 class="texto2">Cadastro de Marcas</h1>
	
	<p:outputLabel  value="Nome: "/>
	<p:inputText id="nome" value="#{marcaMB.marca.marca}" required="true"/><br></br><br></br>
	
	<p:commandButton value="Salvar" actionListener="#{marcaMB.salvar}" 
	update=":form:painelMarca :form:growl :form:nome"/>
	<br></br><br></br><br></br>
	
	</div>
	
	<div style="float:right;" id="direita">

		<p:outputPanel id="painelMarca" style="width:300px;margin-left:-550px;font-size: 14px">

		<p:dataTable var="marca" value="#{marcaMB.listaMarcas}" id="tabelaMarcas" rowIndexVar="index">
			<p:column headerText="Marca">
				<h:outputText value="#{index+1} , #{marca.marca}" />
			</p:column>

			<p:column headerText="Acoes">
				<p:commandLink update=":form:marcaDetail"
				oncomplete="PF('marcaDialog').show()" title="View Detail"
				styleClass="ui-icon ui-icon-search"
				style="float:left;margin-right:10px" value="teste">
				<f:setPropertyActionListener value="#{marca}"
					target="#{marcaMB.marca}" />
				<h:outputText value="#{marca.codMarca}, #{marca.marca}" />
			</p:commandLink>
			<p:commandLink actionListener="#{marcaMB.deletar(marca)}" process="@this"
				 title="View Detail" update="form:painelMarca"
				style="float:left;margin-right:10px" value="Remover	"/>
			</p:column>
		</p:dataTable>

			</p:outputPanel>
		</div>
		<!-- fim tabela de clientes  -->
		
		<p:dialog header="Marca Info" widgetVar="marcaDialog" modal="true" showEffect="blind" hideEffect="explode" resizable="false">
        <p:outputPanel id="marcaDetail" style="text-align:center;">
            <p:panelGrid  columns="2" rendered="#{not empty marcaMB.listaMarcas}" columnClasses="label,value">
 
                <h:outputText value="Id:" />
                <h:outputText value="teste" />
 
                <h:outputText value="Year" />
                <h:outputText value="teste" />
 
                <h:outputText value="Color:" />
                <h:outputText value="teste" />
 
                <h:outputText value="Price" />
                <h:outputText value="teste" />
            </p:panelGrid>
        </p:outputPanel>
    </p:dialog>
		
	</h:form>
</ui:decorate>